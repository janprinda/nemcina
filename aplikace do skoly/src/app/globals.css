@tailwind base;
@tailwind components;
@tailwind utilities;

html, body, #__next { height: 100%; }

/* [1] GLOBAL ENTRANCE ANIMATION SETTINGS */
html { 
  font-size: clamp(15px, 0.9vw + 12px, 19px); 
  overflow-x: hidden; /* Prevent scrollbars during entrance slides */
}

@layer base {
  :root {
    /* --- CORE PALETTE: DEEP SPACE VOID --- */
    --bg: #020617;        
    --card: rgba(30, 41, 59, 0.65); 
    --card-hover: rgba(30, 41, 59, 0.9); 
    --border: rgba(148, 163, 184, 0.1); 
    
    /* --- TEXT HIERARCHY --- */
    --fg: #f8fafc;        
    --muted: #94a3b8;    
    
    /* --- HIGH-CHROMA NEON ACCENTS --- */
    --accent: #06b6d4;    /* CYAN */
    --accent-2: #10b981;  /* EMERALD */
    --accent-5: #a855f7;  /* VIOLET */
    
    /* --- PHYSICS CONSTANTS --- */
    --ease-spring: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1); /* "Apple-like" smooth stop */
  }

  body { 
    background-color: var(--bg);
    /* ATMOSPHERE: Complex multi-radial gradient */
    background-image: 
      radial-gradient(circle at 10% 20%, rgba(6, 182, 212, 0.15), transparent 20%),
      radial-gradient(circle at 90% 80%, rgba(168, 85, 247, 0.15), transparent 20%),
      linear-gradient(180deg, var(--bg) 0%, #0f172a 100%);
    background-attachment: fixed;
    color: var(--fg);
    font-family: 'Inter', system-ui, sans-serif;
    
    /* [2] GLOBAL PAGE ENTRANCE */
    /* Runs once when page loads */
    animation: page-fade-in 0.8s var(--ease-out-expo) forwards;
  }

  a { 
    color: var(--accent); 
    text-decoration: none;
    transition: all 0.2s ease;
    cursor: pointer;
  }
  a:hover { 
    color: #67e8f9; 
    text-shadow: 0 0 15px rgba(6, 182, 212, 0.5);
  }
  
  /* Standardize inputs */
  input, select, textarea { 
    background: rgba(15, 23, 42, 0.6);
    color: var(--fg); 
    border: 1px solid var(--border); 
    border-radius: 0.5rem; 
  }
  /* Turn off browser suggestions/auto-fill popups everywhere */
  form, input, textarea, select {
    autocomplete: off;
  }
  input, textarea {
    -webkit-autocorrect: off;
    -webkit-text-fill-color: var(--fg);
    caret-color: var(--fg);
    spellcheck: false;
  }
  input::-ms-reveal,
  input::-ms-clear,
  input::-webkit-credentials-auto-fill-button,
  input::-webkit-contacts-auto-fill-button {
    display: none !important;
  }
  input:-webkit-autofill,
  textarea:-webkit-autofill,
  select:-webkit-autofill {
    box-shadow: 0 0 0 1000px rgba(15, 23, 42, 0.9) inset !important;
    -webkit-box-shadow: 0 0 0 1000px rgba(15, 23, 42, 0.9) inset !important;
    -webkit-text-fill-color: var(--fg) !important;
  }
  
  label { 
    color: var(--muted); 
    font-size: 0.85rem;
    font-weight: 600;
    letter-spacing: 0.05em;
    text-transform: uppercase;
  }
}

@layer components {
 .container { 
    @apply mx-auto max-w-7xl px-4; 
  }

  /* --- THE "MODERN" CARD --- */
 .card { 
    border: 1px solid var(--border); 
    background: var(--card); 
    border-radius: 1rem; 
    
    /* Glassmorphism */
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    
    /* Lighting Effects */
    box-shadow: 
      0 4px 30px rgba(0, 0, 0, 0.3),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
      
    /* Transitions for Hover */
    transition: 
      transform 0.4s var(--ease-spring), 
      background-color 0.4s ease,
      box-shadow 0.4s ease,
      border-color 0.4s ease;
      
    /* [3] STAGGERED ENTRANCE FOR CARDS */
    /* By default, cards are hidden and slide up */
    opacity: 0;
    animation: slide-up-fade 0.8s var(--ease-out-expo) forwards;
  }

  /* Add delay to child cards automatically using :nth-child logic would be ideal,
     but allows manual utility classes (see @layer utilities) */

 .card:hover {
    transform: scale(1.02) translateY(-2px); /* Lift and Grow */
    background-color: var(--card-hover);
    border-color: rgba(148, 163, 184, 0.3);
    box-shadow: 
      0 20px 40px -5px rgba(0, 0, 0, 0.5),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.2),
      0 0 20px rgba(6, 182, 212, 0.1); /* Subtle Cyan Glow */
  }

 .card-body { @apply p-6; }

  /* --- TACTILE BUTTONS --- */
 .btn { 
    @apply inline-flex items-center justify-center gap-2 rounded-lg px-5 py-2.5 text-sm font-bold tracking-wide; 
    position: relative; 
    overflow: hidden; 
    transition: transform 0.1s ease, box-shadow 0.3s ease, filter 0.3s ease;
    cursor: pointer;
    user-select: none;
  }
  
  /* [4] THE "CLICK" FEELING */
 .btn:active {
    transform: scale(0.94); /* Physically shrinks when clicked */
  }
  
 .btn:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px var(--bg), 0 0 0 4px var(--accent);
  }

  /* Primary: Liquid Gradient */
 .btn-primary { 
    color: #fff; 
    background-image: linear-gradient(135deg, var(--accent) 0%, var(--accent-5) 100%);
    background-size: 200% 200%;
    border: none;
    box-shadow: 0 10px 20px -10px rgba(6, 182, 212, 0.5);
    animation: gradient-shift 3s ease infinite;
  }
  
 .btn-primary:hover { 
    box-shadow: 0 15px 30px -5px rgba(168, 85, 247, 0.6); 
    filter: brightness(1.1);
    transform: translateY(-1px);
  }
 .btn-primary:active {
    box-shadow: 0 5px 10px -5px rgba(168, 85, 247, 0.6);
    transform: scale(0.95);
  }

  /* Secondary: Ghost Glass */
 .btn-secondary { 
    color: var(--fg); 
    background: rgba(255, 255, 255, 0.03); 
    border: 1px solid var(--border); 
    backdrop-filter: blur(5px);
  }
  
 .btn-secondary:hover { 
    background: rgba(255, 255, 255, 0.08); 
    border-color: var(--accent); 
    box-shadow: 0 0 15px rgba(6, 182, 212, 0.2);
  }

  /* --- INPUTS & FORMS --- */
 .input { 
    @apply w-full px-4 py-3 rounded-lg; 
    background: rgba(2, 6, 23, 0.5);
    color: var(--fg); 
    border: 1px solid var(--border); 
    transition: all 0.3s var(--ease-spring);
  }
 .input:focus { 
    outline: none; 
    border-color: var(--accent); 
    background: rgba(2, 6, 23, 0.9);
    box-shadow: 0 0 0 4px rgba(6, 182, 212, 0.15); /* Focus Ring */
    transform: translateY(-1px);
  }
 .input::placeholder { color: rgba(148, 163, 184, 0.4); }

  /* --- NEON GENDER CHIPS --- */
 .chip { 
    @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-bold tracking-wider uppercase; 
    border: 1px solid transparent;
    transition: all 0.3s ease;
  }

  /* DER (Cyan) */
 .chip-der,.gender-der { 
    color: #020617; 
    background: linear-gradient(135deg, #22d3ee, #0ea5e9);
    box-shadow: 0 0 15px rgba(6, 182, 212, 0.3);
  }
 .text-der { color: var(--accent); text-shadow: 0 0 10px rgba(6, 182, 212, 0.4); }

  /* DIE (Violet) */
 .chip-die,.gender-die { 
    color: #fff; 
    background: linear-gradient(135deg, #e879f9, #d946ef);
    box-shadow: 0 0 15px rgba(217, 70, 239, 0.3);
  }
 .text-die { color: var(--accent-5); text-shadow: 0 0 10px rgba(168, 85, 247, 0.4); }

  /* DAS (Emerald) */
 .chip-das,.gender-das { 
    color: #020617; 
    background: linear-gradient(135deg, #34d399, #10b981);
    box-shadow: 0 0 15px rgba(16, 185, 129, 0.3);
  }
 .text-das { color: var(--accent-2); text-shadow: 0 0 10px rgba(16, 185, 129, 0.4); }

  /* Interactive Chip States */
 .btn.gender-der:hover,.btn.gender-die:hover,.btn.gender-das:hover {
    transform: scale(1.05);
    filter: brightness(1.15);
  }

  /* --- UTILITY COMPONENTS --- */
 .header-grad { 
    background: linear-gradient(180deg, rgba(6, 182, 212, 0.05), transparent); 
    border-bottom: 1px solid var(--border); 
  }
 .stepper { @apply flex items-center justify-center gap-2 text-xs; }
 .step { @apply h-2 w-2 rounded-full bg-[var(--border)]; }
 .step-active { background: var(--accent); box-shadow: 0 0 10px var(--accent); }
 .overlay { @apply fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md; }
}

/* --- [5] ANIMATION KEYFRAMES & UTILITIES --- */
@layer utilities {
  
  /* Page Load: Entire body fades in */
  @keyframes page-fade-in {
    0% { opacity: 0; }
    100% { opacity: 1; }
  }

  /* Element Entrance: Slide Up + Fade In */
  @keyframes slide-up-fade {
    0% { 
      opacity: 0; 
      transform: translateY(20px) scale(0.98); 
    }
    100% { 
      opacity: 1; 
      transform: translateY(0) scale(1); 
    }
  }
  
  /* Continuous Gradient Shift for Buttons */
  @keyframes gradient-shift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  /* --- STAGGER DELAYS --- */
  /* Apply these classes to elements you want to appear in sequence */
  
 .delay-100 { animation-delay: 100ms; }
 .delay-200 { animation-delay: 200ms; }
 .delay-300 { animation-delay: 300ms; }
 .delay-500 { animation-delay: 500ms; }
  
  /* Example Usage: <div class="card delay-100"> */

  /* --- SCROLLBAR HIDING --- */
 .no-scrollbar::-webkit-scrollbar { display: none; }
 .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
}
