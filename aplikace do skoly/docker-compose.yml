version: "3.8"

services:
  web:
    build: .
    container_name: nemcina-web
    ports:
      - "3067:3067"
    environment:
      NODE_ENV: production
      PORT: "3067"
      # Set your public URL here (e.g., http://server-ip:3067 or https://domain)
      NEXTAUTH_URL: ${NEXTAUTH_URL:-http://localhost:3067}
      # Provide a strong secret via .env file next to this compose file
      NEXTAUTH_SECRET: ${NEXTAUTH_SECRET}
    volumes:
      - data:/app/data
    restart: unless-stopped

volumes:
  data:

